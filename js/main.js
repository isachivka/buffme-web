(function(){var n;(n=function(){var n,t,o,e,r,a,i;return t='[data-role="popup"]',e=$(t),a=$('[data-role="popup_open"]'),r=$('[data-role="popup_close"]'),i='[data-role="popup_window"]',$(document).keyup(function(o){return 27===o.keyCode&&$(".open"+t).length>0?n(".open"+t):void 0}),o=function(o){return $(".open"+t).length>0&&n($(".open"+t)),window.location.hash=o.replace("#",""),$(o).css("display","block"),$(o).addClass("open"),$("body").css("overflow","hidden")},n=function(n){return history.pushState("",document.title,window.location.pathname),$(n).css("display","none"),$(n).removeClass("open"),$("body").css("overflow","auto")},$("body").click(function(){return $(".open"+t).length>0?n(".open"+t):void 0}),$(e).each(function(){var n,t;return t=$(this).attr("id"),n=window.location.hash.replace("#",""),""!==n&&n===t&&o("#"+t),$(this).find(i).click(function(n){return n.stopPropagation()})}),$(a).each(function(){return $(this).click(function(){var n;return n=$(this).attr("data-target"),$(n).length>0&&o(n),!1})}),$(r).each(function(){return $(this).click(function(){var o;return o=$(this).parents(t),$(o).length>0&&n(o),!1})})})()}).call(this);